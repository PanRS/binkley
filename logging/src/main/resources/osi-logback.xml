<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ This is free and unencumbered software released into the public domain.
  ~
  ~ Please see https://github.com/binkley/binkley/blob/master/LICENSE.md.
  -->

<!-- Select with -Dlogback.configurationFile=osi-logback.xml -->
<configuration debug="${logback.debug:-false}">
    <if condition='"true".equals(property("logback.debug"))'>
        <then>
            <variable name="log.level" value="debug"/>
        </then>
    </if>
    <!-- Enables %match(cond1,patt1,...,fallback) -->
    <conversionRule conversionWord="match"
                    converterClass="hm.binkley.util.logging.MatchConverter"/>
    <include resource="${logback.includedFile:-osi-logback-included.xml}"/>
    <variable resource="${logback.stylesFile:-osi-logback-styles.properties}"/>
    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${${logback.style:-standard}}</pattern>
        </encoder>
    </appender>
    <root level="${log.level:-WARN}">
        <appender-ref ref="console"/>
    </root>
    <jmxConfigurator/>
    <contextListener class="ch.qos.logback.classic.jul.LevelChangePropagator">
        <resetJUL>true</resetJUL>
    </contextListener>
</configuration>
